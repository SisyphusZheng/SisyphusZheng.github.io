import{a as P,b as G}from"./chunk-ZMIQVIAB.js";import{a as E,c as I,d as p}from"./chunk-67FELWPG.js";import{b as U}from"./chunk-6RK4QHXZ.js";var J=()=>{if(typeof window>"u")return"en-US";let e=localStorage.getItem("locale");return e&&(e==="zh-CN"||e==="en-US")?e:navigator.language.startsWith("zh")?"zh-CN":"en-US"},S=P(J());typeof window<"u"&&G(()=>{localStorage.setItem("locale",S.value),document.documentElement.lang=S.value});var Y={"zh-CN":{siteName:"FreshPress",description:"Modern static site generator based on Fresh framework",nav:{home:"Home",blog:"Blog",projects:"Projects",resume:"Resume",about:"About"},hero:{title:"FreshPress",subtitle:"Modern static site generator based on Fresh, build your website quickly",blog:"Browse Blog",projects:"View Projects"},skills:{title:"Tech Stack"},news:{title:"Latest Updates",blog:{title:"Latest Blog",readMore:"Read More"},project:{title:"Latest Projects",viewProject:"View Project"}},stats:{blogViews:"Blog Views",blogFollowers:"Blog Followers",articles:"Community Articles",projects:"Open Source Projects"},search:{placeholder:"Search articles and projects...",noResults:"No relevant results found",searching:"Searching...",blog:"Blog",project:"Project",type:"Type",title:"Title",tags:"Tags",date:"Date",all:"All",recentSearches:"Recent Searches",clearHistory:"Clear History",pressToSearch:"Enter keywords to search"},blog:{title:"Blog Posts",description:"Sharing technical insights and project experiences",readMore:"Read More \u2192",backToList:"Back to List",publishedOn:"Published on",updatedOn:"Updated on",tags:"Tags",relatedPosts:"Related Posts",latestPosts:"Latest Posts",popularPosts:"Popular Posts"},project:{title:"Project Showcase",description:"Some open source and personal projects I've participated in",viewProject:"View Project",visitSite:"Visit Website",viewSource:"View Source",technologies:"Technologies Used",features:"Key Features",details:"Project Details"},common:{loading:"Loading",error:"Error",success:"Success",retry:"Retry",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",preview:"Preview"},errors:{notFound:"Not Found",pageNotFound:"Page Not Found",returnHome:"Return Home",serverError:"Server Error"},footer:{copyright:"Copyright",poweredBy:"Powered By",socialLinks:"Social Links"}},"en-US":{siteName:"FreshPress",description:"Modern static site generator based on Fresh framework",nav:{home:"Home",blog:"Blog",projects:"Projects",resume:"Resume",about:"About"},hero:{title:"FreshPress",subtitle:"Modern static site generator based on Fresh, build your website quickly",blog:"Browse Blog",projects:"View Projects"},skills:{title:"Tech Stack"},news:{title:"Latest Updates",blog:{title:"Latest Blog",readMore:"Read More"},project:{title:"Latest Projects",viewProject:"View Project"}},stats:{blogViews:"Blog Views",blogFollowers:"Blog Followers",articles:"Community Articles",projects:"Open Source Projects"},search:{placeholder:"Search articles and projects...",noResults:"No relevant results found",searching:"Searching...",blog:"Blog",project:"Project",type:"Type",title:"Title",tags:"Tags",date:"Date",all:"All",recentSearches:"Recent Searches",clearHistory:"Clear History",pressToSearch:"Enter keywords to search"},blog:{title:"Blog Posts",description:"Sharing technical insights and project experiences",readMore:"Read More \u2192",backToList:"Back to List",publishedOn:"Published on",updatedOn:"Updated on",tags:"Tags",relatedPosts:"Related Posts",latestPosts:"Latest Posts",popularPosts:"Popular Posts"},project:{title:"Project Showcase",description:"Some open source and personal projects I've participated in",viewProject:"View Project",visitSite:"Visit Website",viewSource:"View Source",technologies:"Technologies Used",features:"Key Features",details:"Project Details"},common:{loading:"Loading",error:"Error",success:"Success",retry:"Retry",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",preview:"Preview"},errors:{notFound:"Not Found",pageNotFound:"Page Not Found",returnHome:"Return Home",serverError:"Server Error"},footer:{copyright:"Copyright",poweredBy:"Powered By",socialLinks:"Social Links"}}};function _e(e,r=S.value){let s=e.split("."),i=Y[r];for(let o of s)if(i&&typeof i=="object"&&o in i)i=i[o];else return console.warn(`Translation key not found: ${e}`),e;return i}var X=(()=>{var s,i,o;let{Deno:e}=globalThis;if(typeof((s=e==null?void 0:e.build)==null?void 0:s.os)=="string")return e.build.os;let{navigator:r}=globalThis;return(o=(i=r==null?void 0:r.appVersion)==null?void 0:i.includes)!=null&&o.call(i,"Win")?"windows":"linux"})(),d=X==="windows";function u(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function m(e){return e===47||e===92}function A(e){return e>=97&&e<=122||e>=65&&e<=90}var T=class extends Error{constructor(s){super(s);U(this,"name","AssertionError")}};function M(e,r=""){if(!e)throw new T(r)}function L(e){if(u(e),e.length===0)return"."}function b(e,r,s,i){let o="",l=0,a=-1,n=0,t;for(let f=0,c=e.length;f<=c;++f){if(f<c)t=e.charCodeAt(f);else{if(i(t))break;t=47}if(i(t)){if(!(a===f-1||n===1))if(a!==f-1&&n===2){if(o.length<2||l!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){let g=o.lastIndexOf(s);g===-1?(o="",l=0):(o=o.slice(0,g),l=o.length-1-o.lastIndexOf(s)),a=f,n=0;continue}else if(o.length===2||o.length===1){o="",l=0,a=f,n=0;continue}}r&&(o.length>0?o+=`${s}..`:o="..",l=2)}else o.length>0?o+=s+e.slice(a+1,f):o=e.slice(a+1,f),l=f-a-1;a=f,n=0}else t===46&&n!==-1?++n:n=-1}return o}function j(e){L(e);let r=e.length,s=0,i,o=!1,l=e.charCodeAt(0);if(r>1)if(m(l))if(o=!0,m(e.charCodeAt(1))){let n=2,t=n;for(;n<r&&!m(e.charCodeAt(n));++n);if(n<r&&n!==t){let f=e.slice(t,n);for(t=n;n<r&&m(e.charCodeAt(n));++n);if(n<r&&n!==t){for(t=n;n<r&&!m(e.charCodeAt(n));++n);if(n===r)return`\\\\${f}\\${e.slice(t)}\\`;n!==t&&(i=`\\\\${f}\\${e.slice(t,n)}`,s=n)}}}else s=1;else A(l)&&e.charCodeAt(1)===58&&(i=e.slice(0,2),s=2,r>2&&m(e.charCodeAt(2))&&(o=!0,s=3));else if(m(l))return"\\";let a;return s<r?a=b(e.slice(s),!o,"\\",m):a="",a.length===0&&!o&&(a="."),a.length>0&&m(e.charCodeAt(r-1))&&(a+="\\"),i===void 0?o?a.length>0?`\\${a}`:"\\":a.length>0?a:"":o?a.length>0?`${i}\\${a}`:`${i}\\`:a.length>0?i+a:i}function O(...e){if(e.length===0)return".";let r,s=null;for(let l=0;l<e.length;++l){let a=e[l];u(a),a.length>0&&(r===void 0?r=s=a:r+=`\\${a}`)}if(r===void 0)return".";let i=!0,o=0;if(M(s!==null),m(s.charCodeAt(0))){++o;let l=s.length;l>1&&m(s.charCodeAt(1))&&(++o,l>2&&(m(s.charCodeAt(2))?++o:i=!1))}if(i){for(;o<r.length&&m(r.charCodeAt(o));++o);o>=2&&(r=`\\${r.slice(o)}`)}return j(r)}function x(e){return e===47}function k(e){L(e);let r=x(e.charCodeAt(0)),s=x(e.charCodeAt(e.length-1));return e=b(e,!r,"/",x),e.length===0&&!r&&(e="."),e.length>0&&s&&(e+="/"),r?`/${e}`:e}function F(...e){if(e.length===0)return".";let r;for(let s=0,i=e.length;s<i;++s){let o=e[s];u(o),o.length>0&&(r?r+=`/${o}`:r=o)}return r?k(r):"."}function z(...e){return d?O(...e):F(...e)}function Se(e){let r=e.split(`
`);if(r[0]!=="---")return{attrs:{},body:e};let s={},i=1;for(;i<r.length;i++){if(r[i]==="---"){i++;break}let[o,...l]=r[i].split(":");s[o.trim()]=l.join(":").trim().replace(/^['"]|['"]$/g,"")}return{attrs:s,body:r.slice(i).join(`
`)}}async function K(){let e=[];try{try{let r="blog";for await(let s of Deno.readDir(r))if(s.isFile&&s.name.endsWith(".md"))try{let i=z(r,s.name),o=await Deno.readTextFile(i),{attrs:l,body:a}=Se(o),n=[];l.tags&&(typeof l.tags=="string"?n=l.tags.split(",").map(t=>t.trim()):Array.isArray(l.tags)&&(n=l.tags)),e.push({slug:s.name.replace(".md",""),title:l.title||"Untitled Post",date:l.date||new Date().toISOString(),tags:n,content:a,description:l.description||"",locale:l.locale||"zh-CN",cover:l.cover||""})}catch(i){console.error(`Failed to read file ${s.name}:`,i)}}catch(r){console.error("Failed to read blog directory:",r)}return e.sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime())}catch(r){return console.error("Failed to get blog posts:",r),[]}}var ye={"personal-website":{title:"Personal Website",description:"Modern personal website built with Fresh framework",longDescription:`
This is a personal website built with Deno's Fresh framework. The website includes a blog system and project showcase functionality,
using modern design and technology stack.

## Key Features

- Responsive design, adapts to various devices
- Blog system supporting Markdown
- Project showcase page
- Modern UI design
- High-performance static generation

## Technical Implementation

The website is built with the Fresh framework, a modern web framework based on Deno. It provides many powerful features,
such as file system routing, islands architecture, and built-in TailwindCSS support.
    `,image:"/images/projects/personal-website.png",avatar:"/images/avatars/default-project.png",technologies:["Deno","Fresh","TypeScript","TailwindCSS"],features:["Responsive Design","Blog System","Project Showcase","Modern UI","High Performance"],githubUrl:"https://github.com/SisyphusZheng/personal-website",demoUrl:"https://z-js.dev"},"online-code-editor":{title:"Online Code Editor",description:"Online code editor based on Monaco Editor",longDescription:`
This is an online code editor based on Monaco Editor, supporting multiple programming languages and themes.
The editor provides features like code highlighting, auto-completion, error hints, and more.

## Key Features

- Support for multiple programming languages
- Code highlighting and auto-completion
- Multi-theme support
- Real-time error hints
- Code formatting

## Technical Implementation

The editor uses Monaco Editor as its core, which is a code editor developed by the VS Code team.
The frontend is built with React and TypeScript, providing a good development experience.
    `,image:"/images/projects/code-editor.png",avatar:"/images/avatars/default-project.png",technologies:["React","TypeScript","Monaco Editor"],features:["Multi-language Support","Code Highlighting","Auto-completion","Multiple Themes","Error Hints"],githubUrl:"https://github.com/SisyphusZheng/online-code-editor"}};function V(){return Object.values(ye)}var R={title:5,tags:2,content:1,description:1.5};async function Q(e,r){var l,a;let s=[];if(console.log(`Starting search: "${e}", Language: ${r||"All"}`),!e||e.trim().length<2)return console.log("Search term too short, at least 2 characters required"),s;let i=e.toLowerCase().trim(),o=r||S.value;console.log(`Processed search term: "${i}", Current language: ${o}`);try{let n=await K();console.log(`Found ${n.length} blog posts to search`);for(let t of n){if(console.log(`Checking blog: "${t.title}", Language: ${t.locale||"Unspecified"}, Tags: ${((l=t.tags)==null?void 0:l.join(", "))||"None"}`),o&&t.locale&&t.locale!==o){console.log(`Skipping post with non-matching language: ${t.title}, Post language=${t.locale}, Current language=${o}`);continue}let f=0,c=[];if(t.title&&t.title.toLowerCase().includes(i)&&(f+=R.title,c.push("title"),console.log(`Post "${t.title}" title matches search term "${i}"`)),t.tags&&t.tags.length>0&&t.tags.map(h=>typeof h=="string"?h.toLowerCase():"").some(h=>h&&h.includes(i))&&(f+=R.tags,c.push("tags"),console.log(`Post "${t.title}" tags match search term "${i}"`)),t.content&&t.content.toLowerCase().includes(i)&&(f+=R.content,c.push("content"),console.log(`Post "${t.title}" content matches search term "${i}"`)),f>0){console.log(`Blog "${t.title}" matches, Relevance: ${f}, Matches: ${c.join(", ")}`);let g="";if(t.content){let h=t.content.toLowerCase().indexOf(i);if(h!==-1){let N=Math.max(0,h-40),D=Math.min(t.content.length,h+i.length+40);g=(N>0?"...":"")+t.content.substring(N,D).trim()+(D<t.content.length?"...":"")}else g=t.content.split(`
`)[0]}s.push({type:"blog",title:t.title,description:t.description||(t.content?t.content.split(`
`)[0]:""),excerpt:g,url:`/blog/${t.slug}`,tags:t.tags||[],date:t.date,locale:t.locale,relevance:f})}else console.log(`Post "${t.title}" does not match search term "${i}"`)}}catch(n){console.error("Error searching blogs:",n)}try{let n=V();console.log(`Found ${n.length} projects to search`);for(let t of n){if(!t||typeof t!="object"){console.log("Skipping invalid project structure");continue}console.log(`Checking project: "${t.title}", Technologies: ${((a=t.technologies)==null?void 0:a.join(", "))||"None"}`);let f=0,c=[];if(t.title&&t.title.toLowerCase().includes(i)&&(f+=R.title,c.push("title"),console.log(`Project "${t.title}" title matches search term "${i}"`)),t.description&&t.description.toLowerCase().includes(i)&&(f+=R.description,c.push("description"),console.log(`Project "${t.title}" description matches search term "${i}"`)),t.technologies&&t.technologies.length>0&&t.technologies.map(h=>h.toLowerCase()).some(h=>h.includes(i))&&(f+=R.tags,c.push("technologies"),console.log(`Project "${t.title}" technologies match search term "${i}"`)),f>0){console.log(`Project "${t.title}" matches, Relevance: ${f}, Matches: ${c.join(", ")}`);let g=`/projects/${t.title.toLowerCase().replace(/\s+/g,"-")}`;s.push({type:"project",title:t.title,description:t.description||"",url:g,tags:t.technologies||[],relevance:f})}}}catch(n){console.error("Error searching projects:",n)}return s.sort((n,t)=>(t.relevance||0)-(n.relevance||0)),console.log(`Search complete. Found ${s.length} results.`),s.slice(0,10)}var Z=P(""),$=P(!1);function ve(){let[e,r]=E(""),[s,i]=E([]),[o,l]=E(!1),a=I(null),n=async c=>{if(r(c),Z.value=c,c.length<2){i([]),$.value=!1;return}l(!0),$.value=!0,console.log("\u641C\u7D22\u5173\u952E\u8BCD:",c);try{let g=await Q(c);console.log("\u641C\u7D22\u7ED3\u679C:",g),i(g)}catch(g){console.error("\u641C\u7D22\u9519\u8BEF:",g),i([])}finally{l(!1),$.value=!1}},t=()=>{r(""),i([]),Z.value="",$.value=!1,a.current&&a.current.focus()},f=(c,g)=>{if(!g||!c)return c;let v=new RegExp(`(${g})`,"gi");return c.replace(v,'<mark class="bg-yellow-200 dark:bg-yellow-700">$1</mark>')};return p("div",{class:"w-full mx-auto max-w-3xl px-4",children:p("div",{class:"relative mb-6",children:[p("div",{class:"relative",children:[p("input",{ref:a,type:"text",placeholder:"\u641C\u7D22\u6587\u7AE0\u548C\u9879\u76EE...",value:e,onInput:c=>n(c.target.value),class:"w-full p-3 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),p("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2",children:p("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e&&p("button",{onClick:t,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:p("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o&&p("div",{class:"flex justify-center items-center py-6",children:p("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})}),!o&&s.length>0&&p("div",{class:"mt-4",children:[p("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:["\u627E\u5230 ",s.length," \u4E2A\u7ED3\u679C"]}),p("div",{class:"space-y-4 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(c=>p("div",{class:"pt-4",children:p("a",{href:c.url,class:"block hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg p-3 -mx-3 transition-colors",children:[p("div",{class:"flex justify-between items-center mb-1",children:[p("h3",{class:"text-lg font-medium text-gray-900 dark:text-white",children:p("span",{dangerouslySetInnerHTML:{__html:f(c.title,e)}})}),p("span",{class:"text-sm text-gray-500 dark:text-gray-400 ml-3",children:c.type==="blog"?"\u535A\u5BA2":"\u9879\u76EE"})]}),c.date&&p("p",{class:"text-sm text-gray-500 dark:text-gray-400",children:new Date(c.date).toLocaleDateString()}),c.excerpt&&p("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:p("span",{dangerouslySetInnerHTML:{__html:f(c.excerpt,e)}})}),c.tags&&c.tags.length>0&&p("div",{class:"mt-2 flex flex-wrap",children:c.tags.map(g=>p("span",{class:"mr-2 mb-1 px-2 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded",children:g},g))})]})},c.url))})]}),!o&&e.length>=2&&s.length===0&&p("div",{class:"mt-6 text-center p-6 bg-gray-50 dark:bg-gray-800 rounded-lg",children:p("p",{class:"text-gray-500 dark:text-gray-400",children:['\u672A\u627E\u5230\u4E0E "',e,'" \u76F8\u5173\u7684\u7ED3\u679C']})})]})})}export{S as a,_e as b,ve as c};
