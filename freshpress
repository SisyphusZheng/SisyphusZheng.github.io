#!/bin/bash

# FreshPress CLI å·¥å…·
# æä¾›æ„å»ºå’Œå¯åŠ¨ç­‰å¸¸ç”¨æ“ä½œ

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
show_help() {
  echo "FreshPress CLI - é¡¹ç›®ç®¡ç†å·¥å…·"
  echo ""
  echo "ç”¨æ³•:"
  echo "  freshpress [å‘½ä»¤] [é€‰é¡¹]"
  echo ""
  echo "å‘½ä»¤:"
  echo "  start       å¯åŠ¨å¼€å‘æœåŠ¡å™¨"
  echo "  build       æ„å»ºé™æ€ç½‘ç«™"
  echo "  index       ç”Ÿæˆæœç´¢ç´¢å¼•"
  echo "  help        æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯"
  echo ""
  echo "ç¤ºä¾‹:"
  echo "  freshpress start    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨"
  echo "  freshpress build    # æ„å»ºé™æ€ç½‘ç«™"
  echo "  freshpress index    # ç”Ÿæˆæœç´¢ç´¢å¼•"
}

# è·å–å‘½ä»¤è¡Œå‚æ•°
command=$1

# æ ¹æ®å‘½ä»¤æ‰§è¡Œç›¸åº”æ“ä½œ
case "$command" in
  "start")
    echo "ğŸš€ å¯åŠ¨å¼€å‘æœåŠ¡å™¨..."
    deno task start
    ;;
    
  "build")
    echo "ğŸ—ï¸ å¼€å§‹æ„å»ºé™æ€ç½‘ç«™..."
    deno task build
    ;;
    
  "index")
    echo "ğŸ” ç”Ÿæˆæœç´¢ç´¢å¼•..."
    deno task gen-index
    ;;
    
  "help")
    show_help
    ;;
    
  *)
    if [ -z "$command" ]; then
      show_help
    else
      echo "âŒ æœªçŸ¥å‘½ä»¤: \"$command\""
      show_help
      exit 1
    fi
    ;;
esac 